<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIFE</title>
</head>
<body>
    <!-- 
        1.理解IIFE(Immediately-Invoked Function Expression)
            立即调用函数表达式，是一个在定义时就会立即执行的JS函数
            其实IIFE和 匿名函数自调用 是同一个概念
        2.作用
            -隐藏实现
            -不会污染外部(全局)命名空间
            -用它来编码JS模块
     -->
    <script>
        /* 
            一般函数是定义了不马上执行，存储起来有需要时执行
            这就需要一个函数名，通过函数名找到该函数去执行
            但匿名函数，如果不马上执行就会报错，因为你无名，将来也找不到你
            不执行会被认为是无意义的，就报错
        */
        (function(){
            console.log('我是一个匿名函数');
            var a = 4;
            console.log(a + 6);
            // 匿名函数隐藏实现就是这些代码执行完就会被回收清理
        })();//匿名函数自调用

        var a = 10;//内部定义了a，不影响我全局再定义一个名为a的变量

        (function(){
            var a = 1;
            function test(){
                console.log(++a);
            }
            window.$ = function(){//向外暴露一个全局函数
                return{
                    test:test
                }
            }
        })();
        // 想要调用匿名函数中的test函数
        $().test();//这里   1.$是一个函数 2.$()后得到一个对象 3.这个对象里的test属性是一个test函数 4.执行test函数
        console.log($());
    </script>
</body>
</html>