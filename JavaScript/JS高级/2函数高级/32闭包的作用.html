<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        1.使用函数内部的变量，在函数执行完后，仍然存活在内存中(延长了局部变量生命周期)
        2.让函数外部可以读写到函数内部的数据(变量/函数)

        问题：
            1.函数执行完后，函数内部声明的局部变量还存在吗？
                -一般不存在，存在于闭包中的局部变量才可能存在
            2.在函数外部能直接访问函数内部的局部变量吗？
                -不能，但我们可以通过闭包让外部去操作内部的局部变量
     -->
    <script>
        function fn1(){
            var a = 2;
            function fn2(){//这一个闭包的作用，就是让外部只能执行我闭包规定好的代码
                // 比如这里就是，外部操作该函数只能a++，然后读取a
                // 我不希望你能够随意操作，只能按我规定的去操作
                a++;
                console.log(a);
            }
            return fn2;//同时要外部能操作到的话，还需要对外部暴露
            // 函数执行完后，内部的局部变量都不存在了
            // 只是后面用f把fn2对应的函数对象给存储起来了，fn1的局部变量fn2是消失了
        }
        var f = fn1();
        f();//3
        f();//4
    </script>
</body>
</html>