<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload = function () {
            // 获取u1
            var u1 = document.getElementById('u1');

            // 获取按钮
            var btn1 = document.getElementById('btn1');
            btn1.onclick = function () {//点击则添加一个超链接
                var li = document.createElement('li');
                li.innerHTML = '<a href="javascript:;" class="link">新创建的超链接</a>'
                u1.appendChild(li);
            }
            
            // 获取超链接数组
            var aL = document.getElementsByTagName('a');
            /* 
                这里我们为每一个超链接都绑定一个单击响应函数
                这种逐个进行操作比较麻烦，且只能为已有的超链接设置事件，而新添加的超链接必须重新绑定
                for (i = 0; i < aL.length; i++) {
                    aL[i].onclick = function () {
                        alert('我是超链接的单击函数');
                    }
                }

                我们希望只绑定一次事件，即可应用到多个元素上，即便是后来才添加的元素
                __我们可以尝试帮顶给他们的共同祖先元素

                事件委派
                -指将事件统一绑定给元素的共同祖先元素
                    当后代元素上事件触发时，会一直冒泡到祖先元素
                    从而通过祖先元素的响应函数来处理事件
                -事件委派是利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能
            */
            u1.onclick = function(event){
                event = event || window.event;
                // 只有当触发的元素是我们期望的元素，事件才会执行
                // event中的target会返回触发事件的对象
                if(event.target.className == 'link')
                    alert('我是a的单击函数');
            }
            
        }
    </script>
</head>

<body>
    <button id="btn1">添加超链接</button>
    <ul id="u1" style="background-color:#faf;">
        <li><a href="javascript:;" class="link">超链接1</a></li>
        <li><a href="javascript:;" class="link">超链接2</a></li>
        <li><a href="javascript:;" class="link">超链接3</a></li>
    </ul>
</body>

</html>